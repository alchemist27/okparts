<!--
  ========================================
  íŒë§¤ì ì•± ìë™ ì—°ë™ ì½”ë“œ
  ========================================

  ğŸ“‹ ì‚¬ìš© ë°©ë²•:
  1. ì¹´í˜24 ê´€ë¦¬ì > ë””ìì¸ í¸ì§‘ > HTML í¸ì§‘
  2. member_result.html ë˜ëŠ” join_result.html íŒŒì¼ ì—´ê¸°
  3. íŒŒì¼ ë§¨ ë (ë§ˆì§€ë§‰ </div> ë˜ëŠ” </body> ì „)ì— ì•„ë˜ ì½”ë“œ ì „ì²´ ë³µì‚¬-ë¶™ì—¬ë„£ê¸°
  4. ì €ì¥ í›„ ìºì‹œ ì´ˆê¸°í™”

  âš ï¸ ì£¼ì˜: ì´ ì½”ë“œëŠ” okparts.vercel.app ë„ë©”ì¸ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
-->

<!-- íŒë§¤ì ì•± ìë™ ì—°ë™ ë²„íŠ¼ -->
<script>
(function() {
  console.log('ğŸš€ íŒë§¤ì ì•± ì—°ë™ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ (okparts.vercel.app)');

  // íšŒì› ì •ë³´
  var memberInfo = {
    member_id: '{$member_id}',
    member_name: '{$member_name}',
    email: '{$member_email}'
  };

  console.log('ğŸ“‹ íšŒì› ì •ë³´:', memberInfo);

  // íšŒì› ì •ë³´ ìœ íš¨ì„± ê²€ì‚¬
  if (!memberInfo.member_id || memberInfo.member_id.trim() === '' || memberInfo.member_id.includes('{$')) {
    console.log('âš ï¸ íšŒì› ì •ë³´ ì—†ìŒ - ì¢…ë£Œ');
    return;
  }

  // ë²„íŠ¼ì„ ì¶”ê°€í•  ìœ„ì¹˜ ì°¾ê¸°
  var targetElement = document.querySelector('.ec-base-button.gBottom');

  if (!targetElement) {
    console.log('âš ï¸ .gBottomì„ ì°¾ì„ ìˆ˜ ì—†ìŒ, ëŒ€ì²´ ìœ„ì¹˜ ì‹œë„');
    targetElement = document.querySelector('.joinComplete');
  }

  if (!targetElement) {
    console.log('âš ï¸ .joinCompleteì„ ì°¾ì„ ìˆ˜ ì—†ìŒ, ëŒ€ì²´ ìœ„ì¹˜ ì‹œë„');
    targetElement = document.querySelector('.memberArea');
  }

  if (!targetElement) {
    console.error('âŒ ë²„íŠ¼ ì‚½ì… ìœ„ì¹˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
    return;
  }

  console.log('âœ… ë²„íŠ¼ ì‚½ì… ìœ„ì¹˜ í™•ì¸:', targetElement.className);

  // íŒë§¤ì ì•± ì„¹ì…˜ ìƒì„±
  var sellerSection = document.createElement('div');
  sellerSection.id = 'seller-app-section';
  sellerSection.style.cssText = 'margin-top: 30px; padding: 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);';

  // ëª¨ë°”ì¼ ëŒ€ì‘
  if (window.innerWidth <= 768) {
    sellerSection.style.padding = '20px';
  }

  // ì œëª©
  var title = document.createElement('h3');
  title.style.cssText = 'color: white; font-size: 22px; margin-bottom: 10px; font-weight: bold; margin-top: 0;';
  if (window.innerWidth <= 768) {
    title.style.fontSize = '18px';
  }
  title.textContent = 'ì‚¬ì—…ì íšŒì›ì´ì‹ ê°€ìš”?';

  // ì„¤ëª…
  var description = document.createElement('p');
  description.style.cssText = 'color: rgba(255,255,255,0.95); font-size: 16px; margin-bottom: 20px; line-height: 1.6; margin-top: 0;';
  if (window.innerWidth <= 768) {
    description.style.fontSize = '14px';
  }
  description.innerHTML = '<strong>' + memberInfo.member_name + '</strong> ë‹˜,<br/>íŒë§¤ì ì•±ì—ì„œ ìƒí’ˆì„ ë“±ë¡í•˜ê³  íŒë§¤ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤';

  // ë²„íŠ¼ ìƒì„±
  var loginBtn = document.createElement('a');

  // âœ… okparts.vercel.app ë„ë©”ì¸ ì ìš©
  var targetUrl = 'https://okparts.vercel.app/api/signup-redirect?' +
                  'member_id=' + encodeURIComponent(memberInfo.member_id) +
                  '&email=' + encodeURIComponent(memberInfo.email);

  console.log('ğŸ”— ë¦¬ë””ë ‰ì…˜ URL:', targetUrl);

  loginBtn.href = targetUrl;
  loginBtn.style.cssText = 'display: inline-block; padding: 16px 50px; background: white; color: #667eea; ' +
                          'text-decoration: none; border-radius: 30px; font-size: 18px; font-weight: bold; ' +
                          'box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s; margin-top: 10px;';
  if (window.innerWidth <= 768) {
    loginBtn.style.fontSize = '16px';
    loginBtn.style.padding = '14px 30px';
  }
  loginBtn.textContent = 'íŒë§¤ì ì•± í™•ì¸í•˜ê¸° â†’';

  // í˜¸ë²„ íš¨ê³¼
  loginBtn.onmouseover = function() {
    this.style.transform = 'translateY(-2px)';
    this.style.boxShadow = '0 6px 20px rgba(0,0,0,0.3)';
  };
  loginBtn.onmouseout = function() {
    this.style.transform = 'translateY(0)';
    this.style.boxShadow = '0 4px 15px rgba(0,0,0,0.2)';
  };

  // ì•ˆë‚´ ë¬¸êµ¬
  var note = document.createElement('p');
  note.style.cssText = 'color: rgba(255,255,255,0.8); font-size: 13px; margin-top: 15px; margin-bottom: 0;';
  if (window.innerWidth <= 768) {
    note.style.fontSize = '12px';
  }
  note.textContent = 'ì‚¬ì—…ìê°€ ì•„ë‹ˆì‹  ê²½ìš° ë¬´ì‹œí•˜ì…”ë„ ë©ë‹ˆë‹¤';

  // ì¡°ë¦½
  sellerSection.appendChild(title);
  sellerSection.appendChild(description);
  sellerSection.appendChild(loginBtn);
  sellerSection.appendChild(note);

  // DOMì— ì‚½ì…
  if (targetElement.parentNode) {
    targetElement.parentNode.insertBefore(sellerSection, targetElement.nextSibling);
  } else {
    document.body.appendChild(sellerSection);
  }

  console.log('âœ… íŒë§¤ì ì•± ë²„íŠ¼ ì¶”ê°€ ì™„ë£Œ (okparts.vercel.app)');
})();
</script>

<!--
  ========================================
  ì„¤ì¹˜ ì™„ë£Œ!
  ========================================

  âœ… ë‹¤ìŒ ë‹¨ê³„:
  1. ì €ì¥ ë²„íŠ¼ í´ë¦­
  2. ìºì‹œ ì´ˆê¸°í™” (ì¹´í˜24 ê´€ë¦¬ì > ë””ìì¸ í¸ì§‘ > ìºì‹œ ì´ˆê¸°í™”)
  3. í…ŒìŠ¤íŠ¸ íšŒì›ê°€ì…
  4. F12 Consoleì—ì„œ ë¡œê·¸ í™•ì¸

  ğŸ” ë””ë²„ê¹…:
  - Console ë¡œê·¸ í™•ì¸: F12 > Console íƒ­
  - ë²„íŠ¼ì´ ì•ˆ ë³´ì´ë©´: ìºì‹œ ì‚­ì œ í›„ ìƒˆë¡œê³ ì¹¨ (Ctrl+Shift+R)

  ğŸ“ ë¬¸ì œ ë°œìƒ ì‹œ:
  - Consoleì— ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
  - Network íƒ­ì—ì„œ ë¦¬ë””ë ‰ì…˜ í™•ì¸
-->
